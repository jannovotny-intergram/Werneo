/*! werneo - v0.1.0 - 2016-05-08
* Copyright (c) 2016 ; Licensed  */
function Werneo(){this.plugins=[],this.pluginNames=[],this.registerPlugin=function(name,plugin){this.plugins[name]=plugin,this.pluginNames.push(name)},this.invoke=function(){var i;for(i=0;i<this.pluginNames.length;i++)this.plugins[this.pluginNames[i]].invoke()}}function WerneoDropdowns(){this.dropdownTriggers=null,this.dropdownOptions=null,WerneoDropdowns.prototype.toggle=function(dropdown){var i,siblings=dropdown.parentNode.childNodes;for(dropdown.classList.toggle("active"),i=0;i<siblings.length;i++)1===siblings[i].nodeType&&siblings[i]!==dropdown&&siblings[i].classList.toggle("active")},WerneoDropdowns.prototype.select=function(option){for(var dropdown=option;null!==dropdown.parentElement&&!1===dropdown.classList.contains("dropdown");)dropdown=dropdown.parentElement;for(var next=option.nextSibling;null!==next&&1!==next.nodeType;)next=next.nextSibling;if(null!==next&&next.classList.contains("dropdown-level"))next.classList.toggle("active");else{var i,activatedElements=dropdown.querySelectorAll(".dropdown-option,.dropdown-value,.dropdown-level,.dropdown-list,.dropdown-handle");if(activatedElements.length>0)for(i=0;i<activatedElements.length;i++)activatedElements[i].classList.remove("active");option.classList.add("active");var newDropdownValue="undefined"==typeof option.dataset.label?option.innerHTML:option.dataset.label;if(dropdown.querySelector(".dropdown-value").innerHTML=newDropdownValue,"undefined"!=typeof dropdown.dataset.inputId){var associatedInput=document.querySelector("#"+dropdown.dataset.inputId);if(associatedInput.value=option.dataset.value,null!==associatedInput.onchange&&associatedInput.onchange(),"true"===dropdown.dataset.submit){for(var form=dropdown;null!==form.parentElement&&"FORM"!==form.nodeName;)form=form.parentElement;null!==form&&form.submit()}}}},WerneoDropdowns.prototype.handle=function(){var i,_this=this;if(_this.dropdownTriggers=document.querySelectorAll(".dropdown-handle,.dropdown-value"),_this.dropdownTriggers.length>0)for(i=0;i<_this.dropdownTriggers.length;i++)_this.dropdownTriggers[i].addEventListener("click",function(){_this.toggle(this)});if(_this.dropdownOptions=document.querySelectorAll(".dropdown-option"),_this.dropdownOptions.length>0)for(i=0;i<_this.dropdownOptions.length;i++)_this.dropdownOptions[i].addEventListener("click",function(){_this.select(this)})},WerneoDropdowns.prototype.invoke=function(){var _this=this;document.addEventListener("DOMContentLoaded",function(){_this.handle()})}}var werneo=new Werneo;werneo.registerPlugin("dropdowns",new WerneoDropdowns),werneo.invoke();